{"version":3,"file":"ngb-modal.umd.js.map","sources":["ng://ngb-modal/lib/modal.service.ts","ng://ngb-modal/lib/modal.component.ts","ng://ngb-modal/lib/modal-footer.component.ts","ng://ngb-modal/lib/modal-content.component.ts","ng://ngb-modal/lib/modal-header.component.ts","ng://ngb-modal/lib/modal.module.ts"],"sourcesContent":["import { Injectable, ViewChild, ComponentFactoryResolver, ComponentRef, ViewContainerRef } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModalManager {\n\n  private modalHost: ViewContainerRef;\n\n  private globalConfig : ModalConfig = {\n    size: \"md\",\n    modalClass: undefined,\n    hideCloseButton : false,\n    centered: false,\n    backdrop: true,\n    animation : true,\n    keyboard: true,\n    closeOnOutsideClick: true,\n    backdropClass: \"modal-backdrop\" \n  };\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) { }\n\n  set defaults(config: ModalConfig) {\n    this.globalConfig = Object.assign(this.globalConfig, config);\n  }\n\n  setDefaults(config: ModalConfig){\n    this.globalConfig = Object.assign(this.globalConfig, config);    \n  }\n\n  get defaults() : ModalConfig {\n    return this.globalConfig;\n  }\n\n  setRootViewContainerRef(ref){\n    this.modalHost = ref;\n  }\n\n  open(modalInstance, config){\n    if(typeof modalInstance === \"object\"){\n      modalInstance.init(config);\n      modalInstance.open();\n      return modalInstance;\n    }else if(typeof modalInstance === \"function\"){\n      let componentFactory = this.componentFactoryResolver.resolveComponentFactory(modalInstance);\n      this.modalHost.remove();\n      let componentRef = this.modalHost.createComponent(componentFactory);\n      setTimeout(() => {\n        componentRef.instance['ModalComponent'].init(config);\n        componentRef.instance['ModalComponent'].open();        \n      })\n      componentRef.instance['onOpen'] = this.closeFactory();\n      componentRef.instance['onClose'] = componentRef.instance['ModalComponent'].onClose;\n      componentRef.instance['close'] = componentRef.instance['ModalComponent'].onOpen;\n     return componentRef.instance;\n    } \n\n  }\n\n  close(modalInstance){\n    modalInstance.close();\n  }\n\n  closeFactory(){\n    var _self = this;\n    return function() {\n      this['ModalComponent'].close();\n      _self.modalHost.remove();\n    }\n  }\n\n}\n\nexport interface ModalConfig {\n    title?: string,\n    size?: string | \"md\",\n    modalClass?: string | '',\n    hideCloseButton?: boolean | false,\n    centered?: boolean | false,\n    backdrop?: boolean | 'static' | true,\n    animation?: boolean | true,\n    keyboard?: boolean | true,\n    closeOnOutsideClick?: boolean | true,\n    backdropClass?: string | \"modal-backdrop\"\n}\n","import { Component, OnInit, Input, Output, OnDestroy, OnChanges, EventEmitter, ElementRef, ViewChild } from '@angular/core';\nimport { ModalManager } from './modal.service';\nimport { Subject, Observable } from 'rxjs';\n\ndeclare var document: any;\n\n@Component({\n  selector: 'modal',\n  template: `<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" #modalRoot (keydown.esc)=\"settings?.keyboard ? close() : 0\" [ngStyle]=\"{ display: isOpened ? 'block' : 'none' }\" [ngClass]=\"{'fade': settings.animation}\" (click)=\"settings?.backdrop !== 'static' && settings?.closeOnOutsideClick ? close() : 0\">\n    <div [class]=\"'modal-dialog modal-'+ settings?.size + ' ' + settings?.modalClass\" (click)=\"preventClosing($event)\" [ngClass]=\"{'modal-dialog-centered': settings.centered}\">\n        <div class=\"modal-content\" tabindex=\"0\" *ngIf=\"isOpened\">\n            <div class=\"modal-header\">\n                <button *ngIf=\"!settings?.hideCloseButton\" type=\"button\" class=\"close\" [attr.aria-label]=\"settings?.cancelButtonLabel || 'Close'\" (click)=\"close()\"><span aria-hidden=\"true\">&times;</span></button>\n                <h4 class=\"modal-title\" *ngIf=\"settings?.title\">{{ settings?.title }}</h4>\n                <ng-content select=\"modal-header\"></ng-content>\n            </div>\n            <div class=\"modal-body\">\n                <ng-content select=\"modal-content\"></ng-content>\n            </div>\n            <div class=\"modal-footer\">\n                <ng-content select=\"modal-footer\"></ng-content>\n            </div>\n        </div>\n    </div>\n</div>`,\n  styles:[`.modal-dialog-centered {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n    align-items: center;\n    min-height: calc(100% - (0.5rem * 2));\n  }\n  @media (min-width: 576px) {\n    .modal-dialog-centered {\n      min-height: calc(100% - (1.75rem * 2));\n    }\n  }`]\n})\nexport class ModalComponent {\n\n  // //title of modal\n  // @Input() title;\n\n  // //size of modal. sm,lg,md\n  // @Input() size;\n\n  // //modalClass added to modal dialog\n  // @Input() modalClass;\n\n  // //hide close button\n  // @Input() hideCloseButton;\n\n  // //if modal is vertically centered\n  // @Input() centered\n\n  // //if backdrop is applied on modal\n  // @Input() backdrop\n\n  // //if true, animation is added to modal dialog\n  // @Input() animation;\n\n  // //listen to keyboard events\n  // @Input() keyboard;\n\n  // //close on outside click\n  // @Input() closeOnOutsideClick;\n\n  // //custom backdrop class\n  // @Input() backdropClass;\n\n  @Output() public opened = new EventEmitter(false);\n  @Output() public closed = new EventEmitter(false);\n\n  private openObserver = new Subject<any>();\n  private closeObserver = new Subject<any>();\n  \n  public isOpened = false;\n\n  @ViewChild(\"modalRoot\")\n  public modalRoot: ElementRef;\n  public settings;\n  private backdropElement: HTMLElement;\n\n  constructor(private modalManager : ModalManager) {\n    this.settings = {\n      closeOnEscape: true,\n      closeOnOutsideClick: true,\n      hideCloseButton: false,\n      backdrop: true\n    }\n  }\n\n  init(config) {\n    this.settings = Object.assign({}, this.modalManager.defaults, config);\n    this.createBackDrop();\n  }\n\n\n  open() {\n    if (this.isOpened)\n      return;\n    \n    document.body.appendChild(this.backdropElement);\n    document.body.classList.add(\"modal-open\");\n    this.isOpened = true;\n    window.setTimeout(() => {\n      this.modalRoot.nativeElement.classList.add('in');\n      this.modalRoot.nativeElement.focus();\n      this.opened.emit();\n      this.openObserver.next(true);\n    }, 0);\n  }\n\n  close() {\n    if (!this.isOpened)\n      return;\n\n    this.modalRoot.nativeElement.classList.remove('in');\n    document.body.removeChild(this.backdropElement);\n    document.body.className = document.body.className.replace(/modal-open\\b/, \"\");\n    window.setTimeout(() => {\n      this.isOpened = false;\n      this.closed.emit();\n      this.closeObserver.next(true);\n    }, 100);\n  }\n\n  public preventClosing(event: MouseEvent) {\n    event.stopPropagation();\n  }\n\n  onOpen(){\n    return this.openObserver.asObservable();\n  }\n\n  onClose(){\n    return this.closeObserver.asObservable();\n  }\n\n  private createBackDrop() {\n    this.backdropElement = document.createElement(\"div\");\n    this.backdropElement.classList.add(\"fade\");\n    this.backdropElement.classList.add(\"in\");\n    if (this.settings && this.settings.backdrop && this.settings.backdrop == true) {\n      this.backdropElement.classList.add(this.settings.backdropClass);\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'modal-footer',\n  template:`<ng-content></ng-content>`\n})\nexport class ModalFooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'modal-content',\n  template: `<ng-content></ng-content>`\n})\nexport class ModalContentComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'modal-header',\n  template:`<ng-content></ng-content>`\n})\n\nexport class ModalHeaderComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { ModalComponent } from './modal.component';\nimport { ModalFooterComponent } from \"./modal-footer.component\";\nimport { ModalContentComponent } from \"./modal-content.component\";\nimport { ModalHeaderComponent } from \"./modal-header.component\";\n\nimport { ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [ModalComponent, ModalFooterComponent, ModalContentComponent, ModalHeaderComponent],\n  exports: [ModalComponent, ModalFooterComponent, ModalContentComponent, ModalHeaderComponent]\n})\nexport class ModalModule { }\n"],"names":["Injectable","ComponentFactoryResolver","EventEmitter","Subject","Component","Output","ViewChild","NgModule","CommonModule"],"mappings":"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"}
